(()=>{const{Object:e,JSON:t,WeakMap:n,ReferenceError:r,TypeError:o,RangeError:i}=window,{keys:l,getOwnPropertyDescriptor:a}=e,{stringify:c,parse:u}=t,f=new n;function s(e,t){if(e instanceof Array&&"length"===t)return!0;let n=a(e,t);return!!n&&n.enumerable}function y(e,t){if(e===t)return!0;if("symbol"==typeof e&&"symbol"==typeof t)return e.description===t.description;let n=typeof e==typeof t,r=e instanceof Array==t instanceof Array,o=(e?e[Symbol.toStringTag]:null)===(t?t[Symbol.toStringTag]:null),i=n&&r&&o&&"object"==typeof e;return i&&e[Symbol.toStringTag]?.includes("Array")?e.length===t.length:i}function g(e,t,n=0){if(!e||!e.length)return t;var o=t,i=0;for(i=0;i<e.length-n;i++){let t=e[i];if(!s(o,t))throw new r("The given list does not point to any nested value in the given pointer");o=o[t]}return o}const p={__proto__:null,undefined:function(e){},Uint8Array:function(e){return new Uint8Array(e)},Uint8ClampedArray:function(e){return new Uint8ClampedArray(e)},Uint16Array:function(e){return new Uint16Array(e)},Uint32Array:function(e){return new Uint32Array(e)},BigUint64Array:function(e){return new BigUint64Array(e.split(","))},Int8Array:function(e){return new Int8Array(e)},Int16Array:function(e){return new Int16Array(e)},Int32Array:function(e){return new Int32Array(e)},Int64Array:function(e){return new Int64Array(e)},BigInt64Array:function(e){return new BigInt64Array(e.split(","))},BigInt:function(e){return BigInt(e)},Symbol:function(e){return Symbol(e)}};function d(e){const t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}function w(t,n){if(null==t)return n?t:null;let r=t[Symbol.toStringTag];if(r)return"Symbol"===r?n?Symbol(t.description):t.description:"BigInt"===r?n?t:t.toString():r.includes("Big")?n?p[r](d(t).join(",")):d(t).join(","):n?p[r](d(t)):d(t);if("object"!=typeof t)return t;let o=t instanceof Array?[]:{},i=e.keys(t);for(let e=0;e<i.length;e++){let n=t[i[e]];"bigint"!=typeof n&&void 0!==n&&(n&&(n[Symbol.toStringTag]||"object"==typeof n)||(o[i[e]]=n))}return o}function h(e,t,n,r,o,a,c,u){if(a>128)throw new i("Given object goes too many levels inward (>128)");let f=l(e),g=l(t),p=n.get(e);u&&c.set(e,!0),e instanceof Array&&(f.push("length"),g.push("length"));for(let n=0;n<g.length;n++)s(e,g[n])||(delete t[g[n]],r.push([[...o,g[n]]]));for(let i=0;i<f.length;i++){let l=f[i],u=e[l];if(s(t,l)&&u===t[l])continue;let g=[...o,l],d=p[1]&&o.length>=2?[p[1],l]:g,b=!y(e[l],t[l]),m=n.get(u),S=!s(t,l)||b;if(!S&&m&&(m[2]=0),S)if((b||void 0===u)&&(t[l]=m?m[3]:w(u,!0)),m){let[e,t,n]=m;n?e=t:(m[2]=2,m[1]=r.length),r.push([d,e,n])}else if(null==u||u[Symbol.toStringTag]){u&&"bigint"!=typeof u&&c.set(u,!0);let e=u||"bigint"==typeof u?u[Symbol.toStringTag]:"undefined";r.push([d,w(u),0,e])}else r.push([d,w(u)]);("symbol"==typeof u||"object"==typeof u&&null!==u)&&(m||n.set(u,[g,r.length-1,S?1:0,t[l],!1]),c.get(u)||(c.set(u,!0),h(e[l],t[l],n,r,g,a+1,c)))}}const b={__proto__:null,1:function(){return!1},2:function(e,t){if(2!==e.length&&4!==e.length)return!1;try{return g(e[0],t),!1}catch{return!0}},3:function(){return!0}};let m=[];for(let e=0;e<256;e++)m[e]=String.fromCharCode(e);window.objToString=function(e,t){if(Array.isArray(e)||"object"!=typeof e)throw new o("root element of data MUST be an OBJECT");if(t)var r=w(e,!0);else var{clone:r,map:i}=f.get(e)||{};const l=[[[],i?{}:w(e)]],a=[],u=e&&e[Symbol.toStringTag]||null;if(p[u]&&l[0].push(0,u),!i){r=w(e,!0);var i=new n;f.set(e,{clone:r,map:i})}return i.set(e,[a,0,1,r]),h(e,r,i,l,a,1,new n,!0),c(l)},window.stringToObj=function(e,t,n=3){if(1===n||"1"===n)return t;let r="function"==typeof n?n:b[n];var o=u("string"==typeof e?e:function(e){let t=new Uint8Array(e),n="";for(let e=0;e<t.length;e++)n+=m[t[e]];return n}(e));"object"!=typeof t?t=2===o[0].length?w(o[0][1]):p[o[0][3]](o[0][1]):o[0][1]=t;for(let e=1;e<o.length;e++){let i=o[e],[l,a]=i[0];if("number"==typeof l&&(i[0]=[...o[l][0],a]),3!==n&&!r(i,t,o))continue;let[c,u,f]=i,s=c.at(-1);if(1===i.length)delete g(c,t,1)[s];else if(2===i.length){let e=g(c,t,1);y(e[s],i[1])||(e[s]=i[1])}else if(3===i.length)g(c,t,1)[s]=g(f>0?o[u][f-1]:u,t);else{let e=g(c,t,1);y(e[s],i[1])||(e[s]=p[i[3]](i[1]))}}return t},window.objValueFrom=g})(),(()=>{var e=WebSocket,t=objToString({});e.prototype.on=e.prototype.addEventListener;let n={__proto__:null},r=(e,t)=>crypto.getRandomValues(new Uint32Array(1))[0]%(e-t)+t;var o="abcdefgjiklmnopqrstuvwxyz-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ :;.,\\/\"'?!(){}[]@<>=+*#$&`|~^%".split("");function i(e,t){"string"!=typeof t&&(t="webject_");do{var i="",l=r(2*e,e);for(let e=0;e<l;e++)i+=o[r(o.length-1,0)];i=t+i}while(n[i]);return n[i]=!0,i}window.connect=async function(n,r,o,l,a){if("string"!=typeof n||"string"!=typeof r)throw new Error("BOTH location AND authToken MUST be STRINGS >:|");if("function"!=typeof o&&o)throw new Error("If you choose the optional parameter onFail, it must be a function >:|");if(a&&"object"==typeof a&&("function"!=typeof a.encoder||"function"!=typeof a.decoder))throw new TypeError("If coding parameter is used, it MUST be an object with both 'encoder' and 'decoder' functions");let c=null,u=null,f=null,s=null,y=!1,g=await new e(n);g.onerror=e=>{console.error("Attempting to connect to a websocket using the location parameter produced the following error :/\n~",e.message),o&&o()};let p=new Promise(((e,t)=>(c=e,u=t)));function d(e,t){let n=e,r=null;isNaN(n)&&(n=e.code),r=1006==n?"closed ABNORMALLY: either you or the server just LOST connection :|":1002==n?"authToken ENCODING FAULT: incorrect encoding/faulty protocol used, according to the server":1001==n?"authToken LOCKED: this is a correct key, but it takes no new connections 0_0":"closed PURPOSEFULLY: check your location and token parameters, OR you got BOOTED :/";let i=`connection with server is OVER due to event: ${t}\n${r}`;c?u(i):console.error(i),clearInterval(f),clearInterval(s),o&&o()}return g.on("open",(async()=>{g.send(JSON.stringify(a?[r,await a.encoder(JSON.stringify([i(32,""),Date.now()]))]:r));let e=!1,n=Number(new Date);async function o(){let e=objToString(l);e!==t&&g.send(a?await a.encoder(e):e)}s=setInterval((()=>{new Date-n>4e3&&(y=!0,d(1006,"Connection Broken"))}),1e3),g.on("message",(async t=>{if("object"==typeof t&&(t=t.data),"PING"===t)return setTimeout((()=>g.send("PING")),2500),n=Number(new Date);l=stringToObj(a?await a.decoder(t):t,l),e||(objToString(l),f=setInterval(o,20),e=!0,c(l))})),g.on("disconnect",(e=>d(e,"disconnect"))),g.on("close",(e=>{y||d(e,"close")})),g.on("error",(e=>d(e,"error")))})),await p}})();