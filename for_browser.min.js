(()=>{const{Object:t,JSON:e,WeakMap:n,ReferenceError:r,TypeError:o,RangeError:i}=window,{keys:l,getOwnPropertyDescriptor:a}=t,{stringify:u,parse:c}=e,f=new n;function s(t,e){if(t instanceof Array&&"length"===e)return!0;let n=a(t,e);return!!n&&n.enumerable}function y(t,e){if(t===e)return!0;if("symbol"==typeof t&&"symbol"==typeof e)return t.description===e.description;let n=typeof t==typeof e,r=t instanceof Array==e instanceof Array,o=(t?t[Symbol.toStringTag]:null)===(e?e[Symbol.toStringTag]:null),i=n&&r&&o&&"object"==typeof t;return i&&t[Symbol.toStringTag]?.includes("Array")?t.length===e.length:i}function g(t,e,n=0){if(!t||!t.length)return e;var o=e,i=0;for(i=0;i<t.length-n;i++){let e=t[i];if(!s(o,e))throw new r("The given list does not point to any nested value in the given pointer");o=o[e]}return o}const h={__proto__:null,undefined:function(t){},Uint8Array:function(t){return new Uint8Array(t)},Uint8ClampedArray:function(t){return new Uint8ClampedArray(t)},Uint16Array:function(t){return new Uint16Array(t)},Uint32Array:function(t){return new Uint32Array(t)},BigUint64Array:function(t){return new BigUint64Array(t.split(","))},Int8Array:function(t){return new Int8Array(t)},Int16Array:function(t){return new Int16Array(t)},Int32Array:function(t){return new Int32Array(t)},Int64Array:function(t){return new Int64Array(t)},BigInt64Array:function(t){return new BigInt64Array(t.split(","))},BigInt:function(t){return BigInt(t)},Symbol:function(t){return Symbol(t)}};function p(t){const e=Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}function d(e,n){if(null==e)return n?e:null;let r=e[Symbol.toStringTag];if(r)return"Symbol"===r?n?Symbol(e.description):e.description:"BigInt"===r?n?e:e.toString():r.includes("Big")?n?h[r](p(e).join(",")):p(e).join(","):n?h[r](p(e)):p(e);if("object"!=typeof e)return e;let o=e instanceof Array?[]:{},i=t.keys(e);for(let t=0;t<i.length;t++){let n=e[i[t]];"bigint"!=typeof n&&void 0!==n&&(n&&(n[Symbol.toStringTag]||"object"==typeof n)||(o[i[t]]=n))}return o}function w(t,e,n,r,o,a,u,c){if(a>128)throw new i("Given object goes too many levels inward (>128)");let f=l(t),g=l(e),h=n.get(t);c&&u.set(t,!0),t instanceof Array&&(f.push("length"),g.push("length"));for(let n=0;n<g.length;n++)s(t,g[n])||(delete e[g[n]],r.push([[...o,g[n]]]));for(let i=0;i<f.length;i++){let l=f[i],c=t[l];if(s(e,l)&&c===e[l])continue;if("function"==typeof c){s(e,l)&&(delete e[l],r.push([[...o,l]]));continue}let g=[...o,l],p=h[1]<r.length&&o.length>=2?[h[1],l]:g,b=!y(t[l],e[l]),m=n.get(c),A=!s(e,l)||b;if(!A&&m&&(m[2]=0),A)if((b||void 0===c)&&(e[l]=m?m[3]:d(c,!0)),m){let[t,e,n]=m;n?t=e:(m[2]=2,m[1]=r.length),r.push([p,t,n])}else if(null==c||c[Symbol.toStringTag]){c&&"bigint"!=typeof c&&u.set(c,!0);let t=c||"bigint"==typeof c?c[Symbol.toStringTag]:"undefined";r.push([p,d(c),0,t])}else r.push([p,d(c)]);("symbol"==typeof c||"object"==typeof c&&null!==c)&&(m||n.set(c,[g,r.length-1,A?1:0,e[l],!1]),u.get(c)||(u.set(c,!0),w(t[l],e[l],n,r,g,a+1,u)))}}const b={__proto__:null,1:function(){return!1},2:function(t,e){if(1===t.length)return!1;try{return g(t[0],e),!1}catch{return!0}},3:function(){return!0}};let m=[];for(let t=0;t<256;t++)m[t]=String.fromCharCode(t);window.objToString=function(t,e){if(Array.isArray(t)||"object"!=typeof t||null===t)throw new o("root element of data MUST be an OBJECT");if(e)var r=d(t,!0);else var{clone:r,map:i}=f.get(t)||{};const l=[[[],i?{}:d(t)]],a=[],c=t&&t[Symbol.toStringTag]||null;if(h[c]&&l[0].push(0,c),!i){r=d(t,!0);var i=new n;f.set(t,{clone:r,map:i})}return i.set(t,[a,0,1,r]),w(t,r,i,l,a,1,new n,!0),u(l)},window.stringToObj=function(e,n,r=3){if(1===r||"1"===r)return n;let o="function"==typeof r?r:b[r];var i=c("string"==typeof e?e:function(t){let e=new Uint8Array(t),n="";for(let t=0;t<e.length;t++)n+=m[e[t]];return n}(e));"object"!=typeof n||null===n?n=2===i[0].length?d(i[0][1]):h[i[0][3]](i[0][1]):i[0][1]=t.assign(n,i[0][1]);for(let e=1;e<i.length;e++){let l=i[e],[a,u]=l[0];if("number"==typeof a&&(l[0]=[...i[a][0],u]),3!==r&&!o(l,n,i))continue;let[c,f,s]=l,p=c.at(-1);if(1===l.length)delete g(c,n,1)[p];else if(2===l.length){let e=g(c,n,1);y(e[p],l[1])&&"string"!=typeof l[1]?t.assign(e[p],l[1]):e[p]=l[1]}else if(3===l.length)g(c,n,1)[p]=g(s>0?i[f][s-1]:f,n);else{let t=g(c,n,1);y(t[p],l[1])||(t[p]=h[l[3]](l[1]))}}return n},window.objValueFrom=g,window.partFilter=function(t,e=!1){Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++)if("string"!=typeof t[e])throw new o("manditoryPath MUST be an ARRAY of STRINGs");return"boolean"!=typeof e&&(e=Boolean(e)),function(n,r,o){if(n[0].length<=t.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[0][e])return!1;try{if(!e)return g(n[0],r),!1;if(3!==n.length)return!0}catch{if(3!==n.length)return!0}const i=o[n[1]][n[2]];if(i.length<=t.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!1;console.log({manditoryPath:t,referencePath:i});try{return!!e||(g(n[0],r),!1)}catch{return!0}}}})(),(()=>{var t=WebSocket,e=objToString({});t.prototype.on=t.prototype.addEventListener;let n=new Map,r=(t,e)=>crypto.getRandomValues(new Uint32Array(1))[0]%(t-e)+e;var o="abcdefgjiklmnopqrstuvwxyz-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ :;.,\\/\"'?!(){}[]@<>=+*#$&`|~^%".split("");function i(t,e){"string"!=typeof e&&(e="webject_");do{var i="",l=r(2*t,t);for(let t=0;t<l;t++)i+=o[r(o.length-1,0)];i=e+i}while(n.has(i));return n.set(i,1),i}window.connect=async function n(r,o,l,a,u=!0){if("string"!=typeof r||"string"!=typeof o)throw new Error("BOTH location AND authToken MUST be STRINGS >:|");if(!0===u&&(u=t=>n(r,o,l,a,u)),"function"!=typeof u&&u)throw new Error("If you choose the optional parameter onFail, it must be a function >:|");if(a&&"object"==typeof a&&("function"!=typeof a.encoder||"function"!=typeof a.decoder))throw new TypeError("If coding parameter is used, it MUST be an object with both 'encoder' and 'decoder' functions");let c=null,f=null,s=null,y=null,g=!1,h=await new t(r),p=new Promise(((t,e)=>(c=t,f=e)));function d(t,e){let n=t,r=null;isNaN(n)&&(n=t.code),r=1006==n?"closed ABNORMALLY: either you or the server just LOST connection :|":1002==n?"authToken ENCODING FAULT: incorrect encoding/faulty protocol used, according to the server":1001==n?"authToken LOCKED: this is a correct key, but it takes no new connections 0_0":"closed PURPOSEFULLY: check your location and token parameters, OR you got BOOTED :/";let o=`connection with server is OVER due to event: ${e}\n${r}`;c?f(o):console.error(o),clearInterval(s),clearInterval(y),u&&(c?u().then(c):u())}return h.onerror=t=>{console.error("Attempting to connect to a websocket using the location parameter produced the following error :/\n~",t.message),u&&(c?u().then(c):u())},h.on("open",(async()=>{h.send(JSON.stringify(a?[o,await a.encoder(JSON.stringify([i(32,""),Date.now()]))]:o));let t=!1,n=Number(new Date);async function r(){let t=objToString(l);t!==e&&h.send(a?await a.encoder(t):t)}y=setInterval((()=>{new Date-n>4e3&&(g=!0,d(1006,"Connection Broken"))}),1e3),h.on("message",(async e=>{if("object"==typeof e&&(e=e.data),"PING"===e)return setTimeout((()=>h.send("PING")),2500),n=Number(new Date);l=stringToObj(a?await a.decoder(e):e,l),t||(objToString(l),s=setInterval(r,20),t=!0,c(l))})),h.on("disconnect",(t=>d(t,"disconnect"))),h.on("close",(t=>{g||d(t,"close")})),h.on("error",(t=>d(t,"error")))})),await p}})();