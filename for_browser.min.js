(()=>{const{Object:t,JSON:e,WeakMap:n,ReferenceError:r,TypeError:o,RangeError:i}=window,{keys:l,getOwnPropertyDescriptor:u}=t,{stringify:f,parse:a}=e,c=new n;function s(t,e){if(!t)return!1;if(t instanceof Array&&"length"===e)return!0;let n=u(t,e);return!!n&&n.enumerable}function y(t,e){if(t===e)return!0;if("symbol"==typeof t&&"symbol"==typeof e)return t.description===e.description;let n=typeof t==typeof e,r=t instanceof Array==e instanceof Array,o=(t?t[Symbol.toStringTag]:null)===(e?e[Symbol.toStringTag]:null),i=n&&r&&o&&"object"==typeof t;return i&&t[Symbol.toStringTag]?.includes("Array")?t.length===e.length:i}function g(t,e,n=0){if(!t||!t.length)return e;var o=e,i=0;for(i=0;i<t.length-n;i++){let e=t[i];if(!s(o,e))throw new r("The given list does not point to any nested value in the given pointer");o=o[e]}return o}const p={__proto__:null,undefined:function(t){},Uint8Array:function(t){return new Uint8Array(t)},Uint8ClampedArray:function(t){return new Uint8ClampedArray(t)},Uint16Array:function(t){return new Uint16Array(t)},Uint32Array:function(t){return new Uint32Array(t)},BigUint64Array:function(t){return new BigUint64Array(t.split(","))},Int8Array:function(t){return new Int8Array(t)},Int16Array:function(t){return new Int16Array(t)},Int32Array:function(t){return new Int32Array(t)},Int64Array:function(t){return new Int64Array(t)},BigInt64Array:function(t){return new BigInt64Array(t.split(","))},BigInt:function(t){return BigInt(t)},Symbol:function(t){return Symbol(t)}};function h(t){const e=Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}function d(t,e){if(null==t)return e?t:null;let n=t[Symbol.toStringTag];if(n)return"Symbol"===n?e?Symbol(t.description):t.description:"BigInt"===n?e?t:t.toString():n.includes("Big")?e?p[n](h(t).join(",")):h(t).join(","):e?p[n](h(t)):h(t);if("object"!=typeof t)return t;let r=t instanceof Array?[]:{},o=l(t);for(let e=0;e<o.length;e++){let n=t[o[e]];"bigint"!=typeof n&&void 0!==n&&(n&&(n[Symbol.toStringTag]||"object"==typeof n)||(r[o[e]]=n))}return r}function w(t,e){const n=t.get(e);if(!n)return null;let r=t.get(n);if(!r)return t.delete(e);let o=l(e);for(let n=0;n<o.length;n++)"object"==typeof e[o[n]]&&e[o[n]]&&w(t,e[o[n]]);if(--r[4])return null;t.delete(n),t.delete(e)}function b(t,e,n,r,o,u,f,a){if(u>128)throw new i("Given object goes too many levels inward (>128)");let c=l(t),g=l(e),p=n.get(t);a&&f.set(t,!0),t instanceof Array&&(c.push("length"),g.push("length"));for(let i=0;i<g.length;i++)s(t,g[i])||(w(n,e[g[i]]),delete e[g[i]],r.push([[...o,g[i]]]));for(let i=0;i<c.length;i++){let l=c[i],a=t[l];if(s(e,l)&&a===e[l])continue;if("function"==typeof a){s(e,l)&&(delete e[l],r.push([[...o,l]]));continue}let g=[...o,l],h=p[1]<r.length&&o.length>=2?[p[1],l]:g,S=!y(t[l],e[l]),A=n.get(a);"object"==typeof t[l]&&t[l]||"object"!=typeof e[l]||!e[l]||w(n,e[l]);let m=!s(e,l)||S;if(!m&&A&&(A[2]=0),m)if((S||void 0===a)&&(e[l]=A?A[3]:d(a,!0)),A){A[4]++;let[t,e,n]=A;n?t=e:(A[2]=2,A[1]=r.length),r.push([h,t,n])}else if(null===a||void 0!==a&&!a[Symbol.toStringTag])r.push([h,d(a)]);else{a&&"bigint"!=typeof a&&f.set(a,!0);let t=a||"bigint"==typeof a?a[Symbol.toStringTag]:"undefined";r.push([h,d(a),0,t])}if("symbol"==typeof a||"object"==typeof a&&null!==a){if(!A){const t=n.get(e[l]);t&&n.delete(t),n.set(a,[g,r.length-1,m?1:0,e[l],1]),n.set(e[l],a)}f.get(a)||(f.set(a,!0),b(t[l],e[l],n,r,g,u+1,f))}}}const S={__proto__:null,1:function(){return!1},2:function(t,e){if(1===t.length)return!1;try{return g(t[0],e),!1}catch{return!0}},3:function(){return!0}};let A=[];for(let t=0;t<256;t++)A[t]=String.fromCharCode(t);window.objToString=function(t,e){if(Array.isArray(t)||"object"!=typeof t||null===t)throw new o("root element of data MUST be an OBJECT");if(e)var r=d(t,!0);else var{clone:r,map:i}=c.get(t)||{};const l=[[[],i?{}:d(t)]],u=[],a=t&&t[Symbol.toStringTag]||null;if(p[a]&&l[0].push(0,a),!i){r=d(t,!0);var i=new n;c.set(t,{clone:r,map:i})}return i.set(t,[u,0,1,r,1]),b(t,r,i,l,u,1,new n,!0),f(l)},window.stringToObj=function(e,n,r=3){if(1===r||"1"===r)return n;let o="function"==typeof r?r:S[r];var i=a("string"==typeof e?e:function(t){let e=new Uint8Array(t),n="";for(let t=0;t<e.length;t++)n+=A[e[t]];return n}(e));"object"!=typeof n||null===n?n=2===i[0].length?d(i[0][1]):p[i[0][3]](i[0][1]):i[0][1]=t.assign(n,i[0][1]);for(let e=1;e<i.length;e++){let l=i[e],[u,f]=l[0];if("number"==typeof u&&(l[0]=[...i[u][0],f]),3!==r&&!o(l,n,i))continue;let[a,c,s]=l,h=a.at(-1);if(1===l.length)delete g(a,n,1)[h];else if(2===l.length){let e=g(a,n,1);y(e[h],l[1])&&"string"!=typeof l[1]?t.assign(e[h],l[1]):e[h]=l[1]}else if(3===l.length)g(a,n,1)[h]=g(s>0?i[c][s-1]:c,n);else{let t=g(a,n,1);y(t[h],l[1])||(t[h]=p[l[3]](l[1]))}}return n},window.objValueFrom=g,window.partFilter=function(t,e=!1){Array.isArray(t)||(t=[t]);for(let e=0;e<t.length;e++)if("string"!=typeof t[e])throw new o("manditoryPath MUST be an ARRAY of STRINGs");return"boolean"!=typeof e&&(e=Boolean(e)),function(n,r,o){if(n[0].length<=t.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[0][e])return!1;try{if(!e)return g(n[0],r),!1;if(3!==n.length)return!0}catch{if(3!==n.length)return!0}const i=o[n[1]][n[2]];if(i.length<=t.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!1;try{return!!e||(g(n[0],r),!1)}catch{return!0}}}})(),(()=>{var t=objToString({});WebSocket.prototype.on=WebSocket.prototype.addEventListener;let e=new Map,n=(t,e)=>crypto.getRandomValues(new Uint32Array(1))[0]%(t-e)+e;var r="abcdefgjiklmnopqrstuvwxyz-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ :;.,\\/\"'?!(){}[]@<>=+*#$&`|~^%".split("");function o(t,o){"string"!=typeof o&&(o="webject_");do{var i="",l=n(2*t,t);for(let t=0;t<l;t++)i+=r[n(r.length-1,0)];i=o+i}while(e.has(i));return e.set(i,1),i}window.connect=async function e(n,r,i,l,u=!0){if("string"!=typeof n||"string"!=typeof r)throw new Error("BOTH location AND authToken MUST be STRINGS >:|");if(!0===u&&(u=t=>e(n,r,i,l,u)),"function"!=typeof u&&u)throw new Error("If you choose the optional parameter onFail, it must be a function >:|");if(l&&"object"==typeof l&&("function"!=typeof l.encoder||"function"!=typeof l.decoder))throw new TypeError("If coding parameter is used, it MUST be an object with both 'encoder' and 'decoder' functions");let f=null,a=null,c=null,s=null,y=!1,g=new WebSocket(n),p=new Promise(((t,e)=>(f=t,a=e)));function h(t,e){if(y)return null;let n=t,r=null;isNaN(n)&&(n=t.code),r=1006==n?"closed ABNORMALLY: either you or the server just LOST connection :|":1002==n?"authToken ENCODING FAULT: incorrect encoding/faulty protocol used, according to the server":1001==n?"authToken LOCKED: this is a correct key, but it takes no new connections 0_0":"closed PURPOSEFULLY: check your location and token parameters, OR you got BOOTED :/";let o=`connection with server is OVER due to event: ${e}\n${r}`;f?a(o):console.error(o),clearInterval(c),clearInterval(s),u&&(f?u().then(f):u())}return g.onerror=t=>{console.error("Attempting to connect to a websocket using the location parameter produced the following error :/\n~",t.message),u&&(f?u().then(f):u())},g.on("open",(async()=>{g.send(JSON.stringify(l?[r,await l.encoder(JSON.stringify([o(32,""),Date.now()]))]:r));let e=!1,n=Date.now();async function u(){let e=objToString(i);e!==t&&g.send(l?await l.encoder(e):e)}s=setInterval((function(){Date.now()-n>32768&&(y=!0,h(1006,"Connection Broken"))}),5e3),g.on("message",(async function(t){if(void 0!==t.data&&(t=t.data),"PING"==t)return n=Date.now();i=stringToObj(l?await l.decoder(t):t,i),e||(objToString(i),c=setInterval(u,20),e=!0,f(i))})),g.on("disconnect",(t=>h(t,"disconnect"))),g.on("close",(t=>h(t,"close"))),g.on("error",(t=>h(t,"error")))})),await p}})();